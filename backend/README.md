# Habits Tracker Backend

Scala + Akka HTTP –±—ç–∫–µ–Ω–¥ –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è Habits Tracker.

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

- **–§—Ä–µ–π–º–≤–æ—Ä–∫**: Akka HTTP + Akka Typed
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: PostgreSQL —Å Doobie
- **JSON**: Circe
- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**: JWT + BCrypt
- **–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç —Å–±–æ—Ä–∫–∏**: SBT (Scala Build Tool)

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è (–ø—Ä–µ–¥–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ)
```
habit-tracker/
‚îÇ
‚îú‚îÄ‚îÄ README.md                 # –û–±—â–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
‚îú‚îÄ‚îÄ .gitignore
‚îú‚îÄ‚îÄ docker-compose.yml        # PostgreSQL + —Å–µ—Ä–≤–∏—Å—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
‚îÇ
‚îú‚îÄ‚îÄ backend/                  # Scala backend (Akka)
‚îÇ   ‚îú‚îÄ‚îÄ README.md             # Backend-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ build.sbt
‚îÇ   ‚îú‚îÄ‚îÄ project/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ build.properties
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ plugins.sbt
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ main/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ scala/
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ com/
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ habittracker/
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ           ‚îú‚îÄ‚îÄ Main.scala
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ           ‚îÇ
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ           ‚îú‚îÄ‚îÄ http/          # Akka HTTP routes
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ           ‚îÇ   ‚îú‚îÄ‚îÄ AuthRoutes.scala
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ           ‚îÇ   ‚îú‚îÄ‚îÄ HabitRoutes.scala
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ           ‚îÇ   ‚îî‚îÄ‚îÄ StatsRoutes.scala
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ           ‚îÇ
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ           ‚îú‚îÄ‚îÄ actor/         # Akka Typed actors
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ           ‚îÇ   ‚îú‚îÄ‚îÄ UserActor.scala
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ           ‚îÇ   ‚îú‚îÄ‚îÄ HabitActor.scala
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ           ‚îÇ   ‚îî‚îÄ‚îÄ StatsActor.scala
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ           ‚îÇ
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ           ‚îú‚îÄ‚îÄ domain/        # –î–æ–º–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ           ‚îÇ   ‚îú‚îÄ‚îÄ User.scala
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ           ‚îÇ   ‚îú‚îÄ‚îÄ Habit.scala
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ           ‚îÇ   ‚îî‚îÄ‚îÄ HabitLog.scala
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ           ‚îÇ
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ           ‚îú‚îÄ‚îÄ repository/    # –†–∞–±–æ—Ç–∞ —Å –ë–î
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ           ‚îÇ   ‚îú‚îÄ‚îÄ UserRepository.scala
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ           ‚îÇ   ‚îú‚îÄ‚îÄ HabitRepository.scala
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ           ‚îÇ   ‚îî‚îÄ‚îÄ HabitLogRepository.scala
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ           ‚îÇ
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ           ‚îú‚îÄ‚îÄ security/      # JWT, –ø–∞—Ä–æ–ª–∏
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ           ‚îÇ   ‚îú‚îÄ‚îÄ JwtService.scala
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ           ‚îÇ   ‚îî‚îÄ‚îÄ PasswordHasher.scala
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ           ‚îÇ
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ           ‚îú‚îÄ‚îÄ config/        # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ           ‚îÇ   ‚îî‚îÄ‚îÄ AppConfig.scala
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ           ‚îÇ
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ           ‚îî‚îÄ‚îÄ util/
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ               ‚îî‚îÄ‚îÄ DbTransactor.scala
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ resources/
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ application.conf
‚îÇ   ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ db/
‚îÇ   ‚îÇ   ‚îÇ           ‚îî‚îÄ‚îÄ migration/
‚îÇ   ‚îÇ   ‚îÇ               ‚îú‚îÄ‚îÄ V1__init.sql
‚îÇ   ‚îÇ   ‚îÇ               ‚îî‚îÄ‚îÄ V2__add_logs.sql
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ test/
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ scala/
‚îÇ   ‚îÇ           ‚îî‚îÄ‚îÄ com/
‚îÇ   ‚îÇ               ‚îî‚îÄ‚îÄ habittracker/
‚îÇ   ‚îÇ                   ‚îî‚îÄ‚îÄ ...
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ Dockerfile
‚îÇ
‚îú‚îÄ‚îÄ frontend/                 # Flutter frontend
...
‚îî‚îÄ‚îÄ docs/                     # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
    ‚îú‚îÄ‚îÄ architecture.md
    ‚îú‚îÄ‚îÄ api.md
    ‚îî‚îÄ‚îÄ diagrams/
```

## –î–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

–û–ø—Ç–∏–º–∞–ª—å–Ω–∞—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –±—ç–∫–µ–Ω–¥–∞ —Å –Ω—É–ª—è ‚Äî –æ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–æ –ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ MVP.

### –§–∞–∑–∞ 1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è SBT-–ø—Ä–æ–µ–∫—Ç–∞ (—á–µ—Ä–µ–∑ IntelliJ, g8 –∏–ª–∏ –≤—Ä—É—á–Ω—É—é)
2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:
   - Akka HTTP + Akka Typed
   - Doobie + –¥—Ä–∞–π–≤–µ—Ä PostgreSQL
   - Circe (—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è JSON)
   - JWT –±–∏–±–ª–∏–æ—Ç–µ–∫–∞
   - BCrypt (—Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π)
3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å `sbt compile` –∏ –∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞ —á–µ—Ä–µ–∑ `sbt run`

### –§–∞–∑–∞ 2: –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π HTTP-—Å–µ—Ä–≤–µ—Ä

–°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑–æ–≤–æ–≥–æ HTTP-—Å–µ—Ä–≤–µ—Ä–∞ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ Akka HTTP:

```scala
val routes = path("health") {
  get {
    complete("Server is running!")
  }
}

Http().newServerAt("localhost", 8080).bind(routes)
```

**–¶–µ–ª—å**: –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã SBT –∏ Akka HTTP.

### –§–∞–∑–∞ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

1. –ó–∞–ø—É—Å—Ç–∏—Ç—å PostgreSQL (–ª–æ–∫–∞–ª—å–Ω–æ –∏–ª–∏ —á–µ—Ä–µ–∑ Docker)
2. –°–æ–∑–¥–∞—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é `db/migrations/` —Å —Ñ–∞–π–ª–æ–º –º–∏–≥—Ä–∞—Ü–∏–∏ `V1__init.sql`:

```sql
CREATE TABLE users (
  id UUID PRIMARY KEY,
  email VARCHAR UNIQUE NOT NULL,
  password_hash VARCHAR NOT NULL,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE habits (
  id UUID PRIMARY KEY,
  user_id UUID REFERENCES users(id),
  title VARCHAR NOT NULL,
  description TEXT,
  schedule_type VARCHAR,
  active BOOLEAN DEFAULT TRUE,
  start_date DATE,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE habit_logs (
  id UUID PRIMARY KEY,
  habit_id UUID REFERENCES habits(id),
  date DATE,
  completed BOOLEAN
);
```

3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å `DbTransactor.scala` –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ Doobie

### –§–∞–∑–∞ 4: –î–æ–º–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏

–°–æ–∑–¥–∞—Ç—å –æ—Å–Ω–æ–≤–Ω—ã–µ –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö –≤ `src/main/scala/domain/`:

- `User.scala` - –£—á–µ—Ç–Ω–∞—è –∑–∞–ø–∏—Å—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `Habit.scala` - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–∏–≤—ã—á–∫–∏
- `HabitLog.scala` - –ó–∞–ø–∏—Å–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–∏–≤—ã—á–µ–∫

**–§–æ–∫—É—Å**: –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä –¥–∞–Ω–Ω—ã—Ö –∏ —Ç–∏–ø–æ–≤, –ª–æ–≥–∏–∫–∞ –ø–æ–∑–∂–µ.

### –§–∞–∑–∞ 5: –°–ª–æ–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤

–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–ª–æ–π –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º –≤ `src/main/scala/repository/`:

- `UserRepository.scala` - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –ø–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `HabitRepository.scala` - CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø—Ä–∏–≤—ã—á–µ–∫
- `HabitLogRepository.scala` - –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

–ù–∞—á–∞—Ç—å —Å —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π, –ø–æ–∑–∂–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ç—å –Ω–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ (Cats IO / Future).

# üóÇ –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏

## 1Ô∏è‚É£ UserRepository

| –û–ø–µ—Ä–∞—Ü–∏—è              | –ú–µ—Ç–æ–¥ / –ü–∞—Ä–∞–º–µ—Ç—Ä—ã                     | –û–ø–∏—Å–∞–Ω–∏–µ                                           |
|-----------------------|--------------------------------------|---------------------------------------------------|
| –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è | `create(user: User): IO[Int]`        | –í—Å—Ç–∞–≤–∫–∞ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –±–∞–∑—É               |
| –ü–æ–∏—Å–∫ –ø–æ email        | `findByEmail(email: String): IO[Option[User]]` | –î–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏                                   |
| –ü–æ–∏—Å–∫ –ø–æ ID           | `findById(id: UUID): IO[Option[User]]` | –û–±—â–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏                                    |
| –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è | `update(user: User): IO[Int]`       | –ò–∑–º–µ–Ω–µ–Ω–∏–µ email –∏–ª–∏ –ø–∞—Ä–æ–ª—è                        |
| –£–¥–∞–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è | `delete(id: UUID): IO[Int]`          | –£–¥–∞–ª–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞                                 |

---

## 2Ô∏è‚É£ HabitRepository

| –û–ø–µ—Ä–∞—Ü–∏—è                     | –ú–µ—Ç–æ–¥ / –ü–∞—Ä–∞–º–µ—Ç—Ä—ã                                  | –û–ø–∏—Å–∞–Ω–∏–µ                                           |
|-------------------------------|---------------------------------------------------|---------------------------------------------------|
| –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–∏–≤—ã—á–∫–∏             | `create(habit: Habit): IO[Int]`                  | –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π –ø—Ä–∏–≤—ã—á–∫–∏                          |
| –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–∏–≤—ã—á–µ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è | `findByUserId(userId: UUID): IO[List[Habit]]`    | –î–ª—è –≥–ª–∞–≤–Ω–æ–≥–æ —ç–∫—Ä–∞–Ω–∞                                |
| –ü–æ–ª—É—á–µ–Ω–∏–µ –æ–¥–Ω–æ–π –ø—Ä–∏–≤—ã—á–∫–∏      | `findById(id: UUID): IO[Option[Habit]]`          | –î–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏–ª–∏ –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞      |
| –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–≤—ã—á–∫–∏           | `update(habit: Habit): IO[Int]`                  | –ò–∑–º–µ–Ω–µ–Ω–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è, —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è, –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏       |
| –£–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–∏–≤—ã—á–∫–∏             | `delete(id: UUID): IO[Int]`                      | –£–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–∏–≤—ã—á–∫–∏ –∏ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö HabitLog –∑–∞–ø–∏—Å–µ–π    |

---

## 3Ô∏è‚É£ HabitLogRepository

| –û–ø–µ—Ä–∞—Ü–∏—è                          | –ú–µ—Ç–æ–¥ / –ü–∞—Ä–∞–º–µ—Ç—Ä—ã                                          | –û–ø–∏—Å–∞–Ω–∏–µ                                           |
|----------------------------------|------------------------------------------------------------|---------------------------------------------------|
| –î–æ–±–∞–≤–∏—Ç—å –∑–∞–ø–∏—Å—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è        | `create(log: HabitLog): IO[Int]`                            | –û—Ç–º–µ—Ç–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–∏–≤—ã—á–∫–∏ –∑–∞ –¥–µ–Ω—å              |
| –ü–æ–ª—É—á–∏—Ç—å –∑–∞–ø–∏—Å–∏ –ø–æ –ø—Ä–∏–≤—ã—á–∫–µ       | `findByHabitId(habitId: UUID): IO[List[HabitLog]]`         | –î–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∏ –≥—Ä–∞—Ñ–∏–∫–æ–≤                         |
| –ü–æ–ª—É—á–∏—Ç—å –∑–∞–ø–∏—Å—å –∑–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –¥–µ–Ω—å| `findByHabitIdAndDate(habitId: UUID, date: LocalDate): IO[Option[HabitLog]]` | –ß—Ç–æ–±—ã –Ω–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å –¥—É–±–ª–∏–∫–∞—Ç—ã                      |
| –û–±–Ω–æ–≤–∏—Ç—å –∑–∞–ø–∏—Å—å                   | `update(log: HabitLog): IO[Int]`                            | –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ –∏–ª–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ             |
| –£–¥–∞–ª–∏—Ç—å –∑–∞–ø–∏—Å—å                    | `delete(id: UUID): IO[Int]`                                  | –ü—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –ø—Ä–∏–≤—ã—á–∫–∏ –∏–ª–∏ –æ—à–∏–±–æ—á–Ω–æ–π –∑–∞–ø–∏—Å–∏        |
| –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)          | `countCompleted(habitId: UUID): IO[Int]` / `currentStreak(habitId: UUID): IO[Int]` / `bestStreak(habitId: UUID): IO[Int]` | –ú–µ—Ç–æ–¥—ã –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏                  |


### –§–∞–∑–∞ 6: –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –≤ `src/main/scala/security/`:

- `PasswordHasher.scala` - –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π —Å BCrypt
- `JwtService.scala` - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è JWT —Ç–æ–∫–µ–Ω–æ–≤
- Middleware/–ø–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫–∏ –¥–ª—è –∑–∞—â–∏—Ç—ã —Ä–æ—É—Ç–æ–≤

### –§–∞–∑–∞ 7: –°–ª–æ–π Actors

–ü–æ—Å—Ç—Ä–æ–∏—Ç—å —Å–ª–æ–π –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ —Å –ø–æ–º–æ—â—å—é Akka Typed Actors –≤ `src/main/scala/actors/`:

- `UserActor.scala` - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- `HabitActor.scala` - –û–ø–µ—Ä–∞—Ü–∏–∏ –ø—Ä–∏–≤—ã—á–µ–∫ –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- `StatsActor.scala` - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞: —Ä–∞—Å—á–µ—Ç streaks –∏ –ø—Ä–æ—Ü–µ–Ω—Ç–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

**–¶–µ–ª—å**: –ò–Ω–∫–∞–ø—Å—É–ª–∏—Ä–æ–≤–∞—Ç—å –≤—Å—é –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –≤ typed actors.

### –§–∞–∑–∞ 8: HTTP —Ä–æ—É—Ç—ã

–û–ø—Ä–µ–¥–µ–ª–∏—Ç—å REST API endpoints –≤ `src/main/scala/routes/`:

- `AuthRoutes.scala` 
  - `POST /auth/register`
  - `POST /auth/login`
- `HabitRoutes.scala`
  - `GET/POST/PUT/DELETE /habits`
  - `POST /habits/{id}/complete`
- `StatsRoutes.scala`
  - `GET /stats/{habitId}`

**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å**: –í–∞–ª–∏–¥–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏ actors.

### –§–∞–∑–∞ 9: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è MVP

–ü–æ—Å—Ç—Ä–æ–∏—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é:

1. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –ª–æ–≥–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
2. CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –ø—Ä–∏–≤—ã—á–∫–∞–º–∏
3. –û—Ç–º–µ—Ç–∫–∞ –ø—Ä–∏–≤—ã—á–µ–∫ –∫–∞–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ
4. –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø—Ä–∏–≤—ã—á–µ–∫

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ Postman, curl –∏–ª–∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–π HTTP-–∫–ª–∏–µ–Ω—Ç.

### –§–∞–∑–∞ 10: –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

- –ü—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –≥—Ä–∞—Ñ–∏–∫–∏ –≤ `StatsActor`
- –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π
- –ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–µ unit –∏ integration —Ç–µ—Å—Ç—ã
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ WebSocket –¥–ª—è real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π

## –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫

```bash
# –ö–æ–º–ø–∏–ª—è—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
sbt compile

# –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
sbt run

# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
sbt test

# –°–±–æ—Ä–∫–∞ production jar
sbt assembly
```

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –∑–∞–º–µ—Ç–∫–∏

–†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å–ª–µ–¥—É–µ—Ç –º–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ:

- **Routes**: –û–±—Ä–∞–±–æ—Ç–∫–∞ HTTP –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è
- **Actors**: –ò–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ (Akka Typed)
- **Repositories**: –°–ª–æ–π –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º (Doobie)
- **Models**: –î–æ–º–µ–Ω–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏
- **Security**: –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

–ù–∞—á–Ω–∏—Ç–µ —Å –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ HTTP —Å–µ—Ä–≤–µ—Ä–∞ + –±–∞–∑–∞ + —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ + UserActor. –ö–æ–≥–¥–∞ —ç—Ç–æ—Ç –æ—Å–Ω–æ–≤–Ω–æ–π –±–ª–æ–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç, –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö actors –∏ —Ä–æ—É—Ç–æ–≤ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –±–æ–ª–µ–µ –ø—Ä–æ—Å—Ç—ã–º –∏ –Ω–∞–¥–µ–∂–Ω—ã–º.

## –ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã

–î–ª—è –ø–æ–¥—Ä–æ–±–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Å–±–æ—Ä–∫–∏ –≤ [build.sbt](build.sbt).